{% extends "base.html" %}
{% load static %}


{% block content %}




<div class="fixed top-0 left-0 right-0 z-50">
  <div class="bg-[#8bc83f] text-white text-xs py-2 px-6 md:px-20 flex justify-between items-center">
    <div>Welcome to Our Real Estate Platform</div>
       <div class="space-x-4 flex">
      <a href="https://www.facebook.com/share/1FnN1M4z5V/" class="hover:text-gray-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
          <path fill="#fff"
            d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95" />
        </svg>
      </a>
      <a href="https://www.instagram.com/buysel_?igsh=a2hxbzByZW9tNXdi" class="hover:text-gray-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
          <g fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
            <path
              d="M2.5 12c0-4.478 0-6.718 1.391-8.109S7.521 2.5 12 2.5c4.478 0 6.718 0 8.109 1.391S21.5 7.521 21.5 12c0 4.478 0 6.718-1.391 8.109S16.479 21.5 12 21.5c-4.478 0-6.718 0-8.109-1.391S2.5 16.479 2.5 12" />
            <path d="M16.5 12a4.5 4.5 0 1 1-9 0a4.5 4.5 0 0 1 9 0m1.008-5.5h-.01" />
          </g>
        </svg>
      </a>
      <a href="https://wa.me/919876543210?text=Hi%20there!%20I%27d%20like%20to%20chat." target="_blank" rel="noopener" class="hover:text-gray-200">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
    <path fill="#fff" d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01A9.82 9.82 0 0 0 12.04 2m.01 1.67c2.2 0 4.26.86 5.82 2.42a8.23 8.23 0 0 1 2.41 5.83c0 4.54-3.7 8.23-8.24 8.23c-1.48 0-2.93-.39-4.19-1.15l-.3-.17l-3.12.82l.83-3.04l-.2-.32a8.2 8.2 0 0 1-1.26-4.38c.01-4.54 3.7-8.24 8.25-8.24M8.53 7.33c-.16 0-.43.06-.66.31c-.22.25-.87.86-.87 2.07c0 1.22.89 2.39 1 2.56c.14.17 1.76 2.67 4.25 3.73c.59.27 1.05.42 1.41.53c.59.19 1.13.16 1.56.1c.48-.07 1.46-.6 1.67-1.18s.21-1.07.15-1.18c-.07-.1-.23-.16-.48-.27c-.25-.14-1.47-.74-1.69-.82c-.23-.08-.37-.12-.56.12c-.16.25-.64.81-.78.97c-.15.17-.29.19-.53.07c-.26-.13-1.06-.39-2-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.12-.24-.01-.39.11-.5c.11-.11.27-.29.37-.44c.13-.14.17-.25.25-.41c.08-.17.04-.31-.02-.43c-.06-.11-.56-1.35-.77-1.84c-.2-.48-.4-.42-.56-.43c-.14 0-.3-.01-.47-.01"/>
  </svg>
</a>

    </div>
  </div>

  <nav class="bg-white shadow-md py-2 px-6 md:px-20 relative w-full">
    <div class="container mx-auto flex justify-between items-center">
      <a href="{% url 'index' %}">
        <img src="{% static 'img/logo.png' %}" alt="Logo" class="h-14 w-auto" />
      </a>

      <ul class="hidden xl:flex space-x-10 text-gray-700 navbar-times">
        <li><a href="{% url 'index' %}" class="hover:text-[#8bc83f]">Home</a></li>
        <li><a href="{% url 'about' %}" class="hover:text-[#8bc83f]">About Us</a></li>
        <li><a href="{% url 'properties' %}" class="hover:text-[#8bc83f]">Properties</a></li>
        <li><a href="{% url 'agents' %}" class="text-[#8bc83f]">Agents</a></li>
        <li><a href="{% url 'blog' %}" class="hover:text-[#8bc83f]">Blogs</a></li>
        <li><a href="{% url 'contact' %}" class="hover:text-[#8bc83f]">Contact</a></li>
      </ul>

      <a href="{% url 'agentslogin' %}"
        class="hidden xl:flex ml-4 border border-[#8bc83f] text-[#8bc83f] px-6 py-2 items-center gap-2 hover:bg-[#76ad33] hover:text-white transition rounded">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
          <g fill="none" stroke="currentColor" stroke-dasharray="28" stroke-dashoffset="28" stroke-linecap="round"
            stroke-linejoin="round" stroke-width="2">
            <path d="M4 21v-1c0 -3.31 2.69 -6 6 -6h4c3.31 0 6 2.69 6 6v1">
              <animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="28;0" />
            </path>
            <path d="M12 11c-2.21 0 -4 -1.79 -4 -4c0 -2.21 1.79 -4 4 -4c2.21 0 4 1.79 4 4c0 2.21 -1.79 4 -4 4Z">
              <animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.4s" values="28;0" />
            </path>
          </g>
        </svg>
        Login
      </a>

      <div class="xl:hidden">
        <button id="mobile-menu-btn" class="text-[#8bc83f] focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    <div id="mobile-menu"
      class="fixed top-0 right-0 w-[90%] h-full bg-white shadow-lg z-50 transform translate-x-full transition-transform duration-300 ease-in-out">
      <div class="p-6 flex justify-end">
        <button id="close-menu" class="text-gray-700 text-2xl">&times;</button>
      </div>
      <ul class="flex flex-col items-start space-y-6 p-6 text-gray-700">
        <li><a href="{% url 'index' %}" class="hover:text-[#8bc83f]">Home</a></li>
        <li><a href="{% url 'about' %}" class="hover:text-[#8bc83f]">About Us</a></li>
        <li><a href="{% url 'properties' %}" class="hover:text-[#8bc83f]">Properties</a></li>
        <li><a href="{% url 'agents' %}" class="text-[#8bc83f]">Agents</a></li>
        <li><a href="{% url 'blog' %}" class="hover:text-[#8bc83f]">Blogs</a></li>
        <li><a href="{% url 'contact' %}" class="hover:text-[#8bc83f]">Contact</a></li>
        <li><a href="{% url 'agentslogin' %}"
            class="text-[#8bc83f] border border-[#8bc83f] px-4 py-2 rounded hover:bg-[#8bc83f] hover:text-white">Login</a>
        </li>
      </ul>
    </div>
  </nav>
</div>




<section class="bg-white py-12 px-4 md:px-28 mt-28">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
    <div>
      <h1 class="text-2xl md:text-4xl font-bold leading-tight">
        THE PERFECT PARTNER<br />
        FOR YOUR REAL ESTATE NEEDS
      </h1>
    </div>

    <div>
      <p class="text-gray-700 text-sm md:text-base leading-relaxed">
        Browse our list of agents to find the right professional for your real estate needs. Filter by experience, specialization, or location to make an informed choice. Whether buying, selling, or investing, our agents are here to provide expert guidance for a successful journey
      </p>
    </div>
  </div>

  <div class="mt-12 flex flex-col md:flex-row justify-center items-center gap-4 relative z-10 mt-20 max-md:mt-10">
  <div class="w-full md:w-1/3 max-md:hidden">
    <img src="{% static 'img/about1.png' %}" alt="Home 1" class="rounded shadow-lg object-cover w-full h-72" />
  </div>
  <div class="w-full md:w-1/3 md:-mt-12">
    <img src="{% static 'img/agent2.jpg' %}" alt="Home 2" class="rounded shadow-lg object-cover w-full h-72" />
  </div>
  <div class="w-full md:w-1/3 max-md:hidden">
    <img src="{% static 'img/about3.jpg' %}" alt="Home 3" class="rounded shadow-lg object-cover w-full h-72" />
  </div>
</div>

</section>




<section class="px-6 md:px-20 py-12 bg-white space-y-16">

<div>
  <h2 class="text-2xl md:text-4xl font-bold text-gray-800 mb-8 uppercase px-6 max-md:px-0">
    Premium Agents
  </h2>

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-4 gap-6 px-8 max-md:px-0">
    {% for premium in premium %}
      <div class="max-w-sm bg-white rounded-xl shadow-md overflow-hidden group relative">

        <!-- Verified Badge -->
        <div class="absolute top-2 right-2 bg-green-500 text-white rounded-full p-1 z-30" title="Verified Agent">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
            <path fill="#fff"
              d="M9 3L8 6H4l1 4l-3 2l3 2l-1 4h4l1 3l3-2l3 2l1-3h4l-1-4l3-2l-3-2l1-4h-4l-1-3l-3 2zm7 5l1 1l-7 7l-3-3l1-1l2 2z" />
          </svg>
        </div>

        <!-- Clickable Overlay -->
        <a href="{% url 'agent_detail' premium.pk %}" class="absolute inset-0 z-10"></a>

        <!-- Image -->
        {% if premium.image %}
          <img src="{{ premium.image.url }}" alt="{{ premium.name }}"
               class="w-full h-[280px] object-cover relative z-20" />
        {% else %}
          <img src="{% static 'img/default-avatar.png' %}" alt="Default Premium Agent"
               class="w-full h-[280px] object-cover relative z-20" />
        {% endif %}

        <div class="p-4 space-y-2 relative z-20">

          <!-- Name -->
          <div class="flex justify-between items-center">
            <h3 class="text-lg font-semibold text-gray-800">{{ premium.name }}</h3>
          </div>

          <!-- City -->
          {% if premium.city %}
            <div class="flex items-center text-sm text-gray-600">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                   viewBox="0 0 24 24">
                <g fill="none" stroke="#8bc83f" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">
                  <path d="M12.56 20.82a.96.96 0 0 1-1.12 0C6.611 17.378 1.486 10.298 6.667 5.182A7.6 7.6 0 0 1 12 3c2 0 3.919.785 5.333 2.181c5.181 5.116.056 12.196-4.773 15.64"/>
                  <path d="M12 12a2 2 0 1 0 0-4a2 2 0 0 0 0 4"/>
                </g>
              </svg>
              {{ premium.city }}
            </div>
          {% endif %}

          <!-- Specialisation -->
          {% if premium.speacialised %}
            <p class="text-sm text-gray-600">Specialised in {{ premium.speacialised }}</p>
          {% endif %}

          <!-- Buttons -->
          <div class="flex gap-3 pt-3 relative z-30">

            {% if premium.whatsapp %}
              <a href="https://wa.me/{{ premium.whatsapp }}" target="_blank"
                 class="flex-1 flex items-center justify-center gap-2 text-center bg-green-500 text-white px-4 py-2 rounded-[12px] hover:bg-green-600 text-sm font-medium"
                 onclick="event.stopPropagation();">
                <img src="{% static 'img/whatsapp.png' %}" alt="WhatsApp" class="w-4 h-4" />
                WhatsApp
              </a>
            {% endif %}

            {% if premium.phone %}
              <a href="tel:+91{{ premium.phone }}"
                 class="flex-1 flex items-center justify-center gap-2 text-center bg-blue-500 text-white px-4 py-2 rounded-[12px] hover:bg-blue-600 text-sm font-medium"
                 onclick="event.stopPropagation();">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 24 24" fill="white">
                  <path
                    d="M19.95 21q-3.125 0-6.175-1.362t-5.55-3.863t-3.862-5.55T3 4.05q0-.45.3-.75t.75-.3H8.1q.35 0 .625.238t.325.562l.65 3.5q.05.4-.025.675T9.4 8.45L6.975 10.9q.5.925 1.187 1.787t1.513 1.663q.775.775 1.625 1.438T13.1 17l2.35-2.35q.225-.225.588-.337t.712-.063l3.45.7q.35.1.575.363T21 15.9v4.05q0 .45-.3.75t-.75.3z" />
                </svg>
                Call
              </a>
            {% endif %}
          </div>

          <!-- View Profile -->
          <a href="{% url 'agent_detail' premium.pk %}"
             class="block w-full text-center border border-black text-black px-4 py-2 rounded-[12px] hover:bg-gray-800 hover:text-white text-sm font-medium mt-8 relative z-30"
             onclick="event.stopPropagation();">
            View Profile
          </a>
        </div>
      </div>
    {% empty %}
      <p class="col-span-4 text-center text-gray-500">No premium agents available.</p>
    {% endfor %}
  </div>
</div>


 <div>
  <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-8 uppercase px-6 max-md:px-0">
    Agents
  </h2>

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 xl:grid-cols-4 gap-8 px-6 max-md:px-0">
    {% for agent in agents %}
      <div class="max-w-sm bg-white border border-[#8bc83f] rounded-xl overflow-hidden text-center p-6 shadow-sm">

        <!-- Agent Image -->
        {% if agent.agentsimage %}
          <img class="w-32 h-32 rounded-full mx-auto object-cover mb-4"
               src="{{ agent.agentsimage.url }}"
               alt="{{ agent.agentsname }}">
        {% else %}
          <img class="w-32 h-32 rounded-full mx-auto object-cover mb-4"
               src="{% static 'img/default-avatar.png' %}"
               alt="Default Agent">
        {% endif %}

        <!-- Name -->
        <h2 class="text-xl font-bold text-gray-800">{{ agent.agentsname }}</h2>

        <!-- City -->
        {% if agent.agentscity %}
          <p class="text-sm text-gray-500 mt-1 flex justify-center items-center gap-1">
            <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10 2a6 6 0 00-6 6c0 4.67 6 10 6 10s6-5.33 6-10a6 6 0 00-6-6zm0 8a2 2 0 110-4 2 2 0 010 4z"/>
            </svg>
            {{ agent.agentscity }}
          </p>
        {% endif %}

        <!-- Specialisation -->
        {% if agent.agentsspeacialised %}
          <p class="mt-2 text-sm text-gray-700 font-medium">
            Specialized in {{ agent.agentsspeacialised }}
          </p>
        {% endif %}

        <!-- Email -->
        {% if agent.agentsemail %}
          <p class="text-sm text-blue-600">{{ agent.agentsemail }}</p>
        {% endif %}

        <!-- Actions -->
        <div class="mt-4 flex justify-center gap-4">

          {% if agent.agentswhatsapp %}
            <a href="https://wa.me/{{ agent.agentswhatsapp }}" target="_blank"
               class="flex-1 flex justify-center items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-[12px] text-sm">
              <img src="{% static 'img/whatsapp.png' %}" class="w-4 h-4" alt="WhatsApp">
              WhatsApp
            </a>
          {% endif %}

          {% if agent.agentsphone %}
            <a href="tel:{{ agent.agentsphone }}"
               class="flex-1 flex justify-center items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-[12px] text-sm">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                <path fill="#fff"
                      d="M19.95 21q-3.125 0-6.175-1.362t-5.55-3.863t-3.862-5.55T3 4.05q0-.45.3-.75t.75-.3H8.1q.35 0 .625.238t.325.562l.65 3.5q.05.4-.025.675T9.4 8.45L6.975 10.9q.5.925 1.187 1.787t1.513 1.663q.775.775 1.625 1.438T13.1 17l2.35-2.35q.225-.225.588-.337t.712-.063l3.45.7q.35.1.575.363T21 15.9v4.05q0 .45-.3.75t-.75.3"/>
              </svg>
              Call
            </a>
          {% endif %}
        </div>
      </div>
    {% empty %}
      <p class="col-span-4 text-center text-gray-500">No agents available.</p>
    {% endfor %}
  </div>
</div>



</section>


<div class="w-full bg-[#8bc83f]/60 min-h-[500px] flex items-center justify-center px-6 py-12">
  <div class="bg-white shadow-xl rounded-2xl p-10 max-w-xl w-full text-center border border-[#e2f0dd] hover:shadow-2xl transition-shadow duration-300">

    <div class="mb-3">
      <span class="inline-block px-3 py-1 text-xs font-medium text-[#5d7a56] bg-[#e8f5e1] rounded-full uppercase tracking-wider">
        Start Today
      </span>
    </div>

    <h2 class="text-3xl md:text-4xl font-extrabold text-gray-800 leading-snug mb-4 uppercase">
      Join as an<br><span class="text-[#8bc83f]">Agent</span>
    </h2>

    <p class="text-gray-600 text-sm md:text-base mb-8">
      Partner with <span class="font-medium text-[#8bc83f]">BuySel</span> to list your properties, reach more buyers and sellers, and grow your real estate network.
    </p>

    <button onclick="openAgentModal()"
      class="inline-flex items-center gap-2 bg-[#8bc83f] text-white font-semibold px-6 py-3 rounded-md shadow hover:bg-[#4b6348] hover:scale-105 transition-all duration-200">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor"
        viewBox="0 0 24 24">
        <path
          d="M15 14c-2.67 0-8 1.33-8 4v2h16v-2c0-2.67-5.33-4-8-4M6 10V7H4v3H1v2h3v3h2v-3h3v-2m6 2a4 4 0 0 0 4-4a4 4 0 0 0-4-4a4 4 0 0 0-4 4a4 4 0 0 0 4 4" />
      </svg>
      Register as an Agent
    </button>
  </div>
</div>


<!-- Agent Modal -->
<div id="agentModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center px-4">
  <div class="bg-white rounded-xl p-6 w-full max-w-md relative">
    <button onclick="closeAgentModal()" class="absolute top-4 right-4 text-gray-500 hover:text-black text-2xl">&times;</button>

    <h2 class="text-xl font-bold mb-4 text-center">Register as an Agent</h2>

    <!-- Error message -->
    <div id="agentError" class="text-red-500 text-sm mb-2"></div>

    <form id="agentForm" class="space-y-4" method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <input type="text" name="name" placeholder="Name" required class="w-full px-4 py-2 border rounded" />
      <input type="email" name="email" placeholder="Email" required class="w-full px-4 py-2 border rounded" />
      <input type="text" name="address" placeholder="Address" required class="w-full px-4 py-2 border rounded" />
      <input type="tel" name="phone_number" placeholder="Phone Number" required class="w-full px-4 py-2 border rounded" />
      <select name="Dealings" required class="w-full px-4 py-2 border rounded">
        <option value="">Specialised In</option>
        <option value="sale">Sale</option>
        <option value="rent">Rent</option>
        <option value="lease">Lease</option>
        <option value="all">All</option>
      </select>
      <input type="file" name="image" accept="image/*" required class="w-full px-4 py-2 border rounded" />
      <button type="submit" class="w-full bg-black text-white py-2 rounded hover:bg-gray-800">Submit</button>
    </form>
  </div>
</div>

<script>
  function openAgentModal() {
    document.getElementById("agentModal").classList.remove("hidden");
  }

  function closeAgentModal() {
    document.getElementById("agentModal").classList.add("hidden");
  }

  // Agent form validation
  document.getElementById("agentForm").addEventListener("submit", function (e) {
    const form = this;
    const fields = ["name", "address", "phone_number"]; // fields to validate

    // Block links
    const urlPattern = /(https?:\/\/\S+|www\.\S+|\b\S+\.(com|net|org|in|info|io|gov|co)\b)/i;

    // Block special characters < > / [ ] { } ~ ` + - *
    const specialCharPattern = /[<>\/\[\]{}~`+\-*]/;

    let hasInvalid = false;

    fields.forEach(field => {
      const input = form.querySelector(`[name="${field}"]`);
      if (input) {
        const value = input.value.trim();
        if (urlPattern.test(value) || specialCharPattern.test(value)) {
          hasInvalid = true;
        }
      }
    });

    if (hasInvalid) {
      e.preventDefault();
      document.getElementById("agentError").textContent =
        "❌ Links and special characters < > + - * / { } [ ] ~ ` are not allowed.";
    } else {
      document.getElementById("agentError").textContent = ""; // clear error
    }
  });
</script>











<script src="{% static 'js/script.js' %}"></script>



{% endblock %}




