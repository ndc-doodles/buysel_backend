{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard - Buysel</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-[#151a37] font-sans">

  <div class="flex min-h-screen">



<div id="sidebar" class="fixed top-0 left-0 h-full w-64 bg-[#8bc83f] text-white p-6 z-50 transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out">
  <div class="flex items-center justify-between mb-6">
    <div class="w-full bg-white flex justify-center">
      <img src="{% static 'img/logo.png' %}" alt="Logo" class="w-32 h-32 object-contain">
    </div>
    <button onclick="toggleSidebar()" class="md:hidden text-white text-2xl max-md:mt-[-9rem]">&times;</button>
  </div>

  <nav>
    <ul class="space-y-4 text-sm">
      <li>
        <a href="{% url 'agent_dashboard' %}" class="block py-2 px-4 rounded hover:bg-white hover:text-[#151a37]">Dashboard</a>
      </li>
      <li>
        <a href="{% url 'agent_add_property' %}" class="block py-2 px-4 rounded hover:bg-white hover:text-[#151a37]">Agent Property Listings</a>
      </li>
      <li>
        <a href="{% url 'contact_requests_list' %}" class="block py-2 px-4 rounded bg-white text-[#151a37]">Agent Enquiries</a>
      </li>
      <li>
        <a href="{% url 'agent_messages' %}" class="block py-2 px-4 rounded hover:bg-white hover:text-[#151a37]">Agent Message box </a>
      </li>
      <li>
        <a href="{% url 'premium_logout' %}" class="block py-2 px-4 rounded bg-[red] text-white">Logout</a>
      </li>
    </ul>
  </nav>

</div>
<button onclick="toggleSidebar()" class="md:hidden fixed top-4 left-4 z-50 bg-[#8bc83f] text-white p-2 rounded shadow-lg">
  &#9776;
</button>

<div class="flex-1 p-6 mt-20 w-full md:ml-64 xl:mt-6">
  <h1 class="text-3xl font-bold mb-6">Agent Enquiries</h1>

  <div class="overflow-x-auto bg-white rounded-xl shadow-md">
  <table class="min-w-full divide-y divide-gray-200 text-sm md:text-base">
    <thead class="bg-[#8bc83f] text-white">
      <tr>
        <th class="px-4 py-3 text-left font-medium">Name</th>
        <th class="px-4 py-3 text-left font-medium">Contact Way</th>
        <th class="px-4 py-3 text-left font-medium">Email</th>
        <th class="px-4 py-3 text-left font-medium">Phone Number</th>
        <th class="px-4 py-3 text-left font-medium">Message</th>
        <th class="px-4 py-3 text-left font-medium">Action</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100">
      {% for contact in contacts %}
        <tr>
          <td class="px-4 py-3">{{ contact.first_name }} {{ contact.last_name }}</td>
          <td class="px-4 py-3">{{ contact.contact_method }}</td>
          <td class="px-4 py-3">{{ contact.email }}</td>
          <td class="px-4 py-3">{{ contact.phone|default:"Nil" }}</td>
          <td class="px-4 py-3">{{ contact.message }}</td>
          <td class="px-4 py-3">
            <a href="{% url 'delete_contact_request' contact.pk %}"
               class="bg-red-500 hover:bg-red-600 text-white text-xs md:text-sm px-3 py-1 rounded-lg transition"
               onclick="return confirm('Are you sure you want to delete this request?');">
              Delete
            </a>
          </td>
        </tr>
      {% empty %}
        <tr>
          <td colspan="6" class="text-center text-gray-500 py-4">
            No contact requests yet.
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

</div>


</div>

<script src="./static/js/admin_scripts.js"></script>
</body>
</html>